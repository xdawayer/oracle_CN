# Change: 添加城市输入框模糊搜索自动补全功能

## Why

当前城市输入框存在以下问题：
1. **用户体验差**：用户需要手动输入完整城市名称，容易出错
2. **格式不统一**：用户可能输入各种格式（如"北京"、"北京市"、"Beijing"等）
3. **无法验证**：无法确保用户输入的城市是有效的地理位置
4. **缺乏引导**：用户不知道应该输入什么格式的城市信息

## What Changes

### 核心功能
- **本地模糊搜索**：在用户输入时实时搜索匹配的城市，避免网络延迟
- **多语言支持**：支持拼音、汉字、英文搜索
- **智能排序**：根据匹配度排序，显示 3-5 个最相关的结果
- **标准化显示**：统一显示格式为"城市名, 省份/州名, 国家名"

### 数据范围
- **主体**：中国大陆所有地级市及以上城市
- **扩展**：支持中国港澳台地区（台湾属于中国）
- **国际**：支持主要国家的大城市

### 容错处理
- **逗号兼容**：同时支持中文逗号（，）和英文逗号（,）
- **自动匹配**：用户直接输入未选择时，后台自动匹配最接近的城市
- **格式标准化**：无论用户如何输入，最终存储标准化格式

## Impact

- **Affected specs**: city-autocomplete (新增)
- **Affected code**:
  - `miniprogram/pages/synastry/synastry.wxml` - 城市输入组件
  - `miniprogram/pages/synastry/synastry.wxss` - 下拉样式
  - `miniprogram/pages/synastry/synastry.js` - 搜索逻辑
  - `miniprogram/data/cities.js` - 新增城市数据文件
  - `miniprogram/utils/city-search.js` - 新增搜索工具
- **可复用性**：该组件可复用于其他需要城市输入的页面
