# 提案：精炼水墨禅意 UI 设计体系

## Change ID
`refine-ink-zen-ui-design`

## 动机

AstroMind 当前已建立了基础的水墨风（Ink Wash）设计体系，包含宣纸白背景、墨色层级、宋体衬线字体等元素。但在实际使用中，水墨禅意的文化表达还不够深入，部分页面的视觉层次和交互体验有优化空间。

本提案旨在：
1. **深化新中式美学**：从"有水墨配色"升级为"沉浸式东方禅意体验"
2. **强化留白哲学**：用更克制的间距和呼吸感传递禅意
3. **丰富文化符号**：引入印章（seal stamp）、山水渐变、竹纹等元素作为点缀
4. **统一微交互语言**：所有动画/过渡效果符合"慢而从容"的禅意节奏
5. **提升页面级 UX**：优化 5 大核心页面的布局和交互流

## 目标用户

中国大陆 18-35 岁年轻人，偏好：
- 现代极简但不冷淡
- 传统文化元素但不复古/玄学化
- 心理学导向的占星内容
- 精致的视觉细节和交互手感

## 变更范围

### 1. 设计系统增强（Design Token 层）

#### 1.1 色彩体系精炼

**保留现有核心色彩**，新增以下层级：

| 变量名 | 色值 | 用途 |
|--------|------|------|
| `--ink-wash-1` | `rgba(26, 26, 26, 0.03)` | 最淡墨晕背景 |
| `--ink-wash-2` | `rgba(26, 26, 26, 0.06)` | 淡墨晕分隔 |
| `--ink-wash-3` | `rgba(26, 26, 26, 0.10)` | 中墨晕hover态 |
| `--seal-red` | `#C53929` | 印章红（替代现 accent-red #B22222，更正红） |
| `--seal-red-light` | `rgba(197, 57, 41, 0.08)` | 印章红浅底 |
| `--bamboo-green` | `#5B7553` | 竹青色（成功/自然状态） |
| `--bamboo-light` | `rgba(91, 117, 83, 0.08)` | 竹青浅底 |
| `--mountain-blue` | `#4A6B7A` | 远山蓝（信息/辅助色） |
| `--mountain-light` | `rgba(74, 107, 122, 0.08)` | 远山蓝浅底 |
| `--amber-glow` | `#B8860B` | 琥珀金（高级/警示） |
| `--paper-warm` | `#FAF7F2` | 暖宣纸（替代部分 paper-100 场景） |

**语义色映射更新**：
- `--success` → `var(--bamboo-green)` (竹青代替翠绿)
- `--info` → `var(--mountain-blue)` (远山蓝代替钢蓝)
- `--accent-red` → `var(--seal-red)` (印章红)
- `--warning` → `var(--amber-glow)` (琥珀金)

#### 1.2 字体层级优化

当前只有 serif 一个字体层级。新增「数据字体」用于分数/数字展示：

| 场景 | 字体 | 字号 | 字间距 |
|------|------|------|--------|
| 页面大标题 | SourceHanSerifSC Bold | 48-64rpx | 4-6rpx |
| 区块标题 | SourceHanSerifSC SemiBold | 32-36rpx | 2-4rpx |
| 正文 | SourceHanSerifSC Regular | 26-28rpx | 0-1rpx |
| 辅助/标签 | System Sans (微信默认) | 20-24rpx | 1-2rpx |
| 数据/分数 | DIN Alternate / System Sans Thin | 56-80rpx | -2rpx |

**关键变更**：辅助文字和标签使用系统无衬线字体（微信默认），与宋体标题形成对比，增强现代感。

#### 1.3 间距与留白体系

强化留白（liubai）节奏，新增：

| 变量 | 值 | 命名灵感 |
|------|----|---------|
| `--breath-xs` | `12rpx` | 微息 |
| `--breath-sm` | `24rpx` | 浅息 |
| `--breath-md` | `40rpx` | 中息 |
| `--breath-lg` | `64rpx` | 长息 |
| `--breath-xl` | `96rpx` | 深息 |
| `--breath-xxl` | `128rpx` | 静息 |

**原则**：区块之间的留白应为内容高度的 30-50%，体现"墨不到处皆有画"。

#### 1.4 阴影与层次

替换为更柔和的墨晕阴影：

```css
--shadow-ink-sm: 0 2rpx 8rpx rgba(26, 26, 26, 0.04);
--shadow-ink-md: 0 8rpx 24rpx rgba(26, 26, 26, 0.06);
--shadow-ink-lg: 0 16rpx 48rpx rgba(26, 26, 26, 0.08);
```

### 2. 组件设计规范

#### 2.1 卡片（Card）

**现状**：方角 + 细边框 + 阴影
**优化**：

- **默认卡片**：无圆角（保持）、去掉 border 改用极淡墨晕背景（`--ink-wash-1`）做区分
- **重点卡片**：左侧或顶部加一道 2rpx 的印章红线条（`--seal-red`）
- **数据卡片**：纯留白分隔，无边框无阴影，用水墨渐变分隔线
- **去除**：所有 box-shadow，改用层次留白和背景色差做视觉区分

#### 2.2 按钮（Button）

**主按钮**：
- 保持深墨底白字，但加入 4rpx letter-spacing
- 按下态：`opacity: 0.85` + `translateY(1rpx)`（微沉，如印章按压）
- 尺寸：高度 88rpx，内边距 32rpx 64rpx

**次按钮**：
- 透明底 + 墨色细线边框（1rpx）
- Hover/按下态：背景填充 `--ink-wash-1`

**印章按钮**（新增，用于核心 CTA）：
- 圆角 0（方印）或 50%（圆印）
- 印章红底色 + 白色文字
- 按下态带轻微旋转（rotate 0.5deg），模拟盖章效果

#### 2.3 分隔线

**替代方案**：
- 水墨渐变分隔线：从两端透明到中间淡墨（`linear-gradient(to right, transparent, var(--ink-wash-2), transparent)`）
- 双线分隔（仿古籍排版）：两条 1rpx 线间距 4rpx
- 留白分隔：`breath-lg` 以上的纯空白

#### 2.4 弹窗/浮层（Modal/Sheet）

- 背景遮罩：`rgba(26, 26, 26, 0.5)` + `blur(8rpx)`（水墨雾化效果）
- 弹窗入场：从底部缓慢升起，`cubic-bezier(0.25, 0.1, 0.25, 1.0)`，时长 400ms
- 弹窗容器：`paper-warm` 背景，无圆角（或仅顶部 24rpx 圆角用于底部弹出）

#### 2.5 导航与 TabBar

- TabBar 保持现有结构
- 选中态图标：使用印章红色（`--seal-red`）替代纯黑
- 未选中态：`--ink-light`
- TabBar 上方添加水墨渐变分隔线

### 3. 微交互 & 动画语言

#### 3.1 动画原则："禅意动效"

| 原则 | 说明 | 参数 |
|------|------|------|
| **缓入缓出** | 所有移动如流水般自然 | `cubic-bezier(0.25, 0.1, 0.25, 1.0)` |
| **适度时长** | 不急不缓，从容感 | 入场 300-400ms，退场 200-250ms |
| **微小位移** | 轻如落叶 | translateY 最大 20rpx |
| **透明度渐变** | 墨色浓淡过渡 | opacity 0→1，搭配位移 |
| **无弹跳** | 避免 bounce/elastic 效果 | 禁止 overshoot 曲线 |

#### 3.2 新增微交互

- **墨迹扩散加载**：loading 时从中心向外扩散的墨圈动画（替代旋转菊花）
- **印章盖印**：关键确认操作的反馈，圆形印章从略大缩放到正常（scale 1.1→1）
- **宣纸卷展**：列表项入场时自上而下依次"展开"（translateY + opacity 级联延迟）
- **水墨呼吸**：分数/数字的脉动效果，opacity 在 0.8-1.0 间缓慢呼吸

#### 3.3 转场

- 页面间转场：默认微信原生（左右滑动），不自定义
- 页面内切换（如日期切换）：crossfade 200ms
- 内容展开/收起：高度过渡 250ms + opacity

### 4. 核心页面 UX 优化

#### 4.1 首页（Home）

**现状问题**：
- 卡片信息密度偏高，留白不足
- 快速入口网格缺乏层次
- 问候语区域可更有禅意

**优化方向**：
- 顶部问候区：增加留白至 `breath-xl`，问候语使用更大字号（56rpx），下方日期用「农历+阳历」双行展示
- 每日卡片：增加内部留白，分数展示用超大号数据字体（80rpx），搭配淡墨色副标题
- 快速入口：从 3 列网格改为 2 列大卡片 + 底部水平滚动小入口，层次更清晰
- 底部留白：页面底部增加 `breath-xxl` 留白，避免紧贴 TabBar

#### 4.2 本我页面（Self）

**现状问题**：
- 信息层级过多（星盘+Big3+雷达+领域+手风琴+表格）
- 表格样式偏技术化
- 固定导航栏占据额外空间

**优化方向**：
- 将导航栏改为跟随滚动的内容标题（利用原生导航栏的返回功能）
- Big3 三宫用更大卡片展示，每张卡片有独立的水墨底纹
- 领域网格增加图标尺寸和留白
- 表格改为卡片列表，每行星数据一张独立小卡，避免紧凑表格感
- 手风琴详情展开时加入淡墨背景色区分
- 付费横幅：从深底反色改为印章红底色，搭配"解锁深层解读"印章式 CTA

#### 4.3 今日页面（Daily）

**现状问题**：
- 日期导航栏样式可更精致
- 维度分数展示缺乏可视化节奏
- 建议卡片（DO/DON'T）可更有东方美感

**优化方向**：
- 日期导航：选中日期下方用印章红短横线（替代黑线），今天标记用小印章图标
- 总览卡片：大分数居中展示，周围用水墨渐变晕染做装饰底纹
- 维度区域：改为纵向列表（每行一个维度），左侧小色块 + 进度条 + 数字，增加纵向呼吸感
- DO/DON'T 卡片：去掉分列，改为带墨色深浅区分的上下排列，"DO"用竹青底色，"DON'T"用淡墨底色
- 时间线：圆点改为小印章标记，连线改为虚线（更轻盈）
- 周趋势柱状图：柱子使用水墨渐变（底部淡顶部浓），今天的柱子用印章红

#### 4.4 发现页面（Discovery）

**现状问题**：
- Hero 卡片使用深墨反色，与整体禅意调性略冲突
- 布局模式与其他页面差异较大

**优化方向**：
- Hero 卡片：改为宣纸底色 + 水墨山水渐变装饰（右下角淡墨山形），文字保持深墨色
- 功能入口：使用更大的留白间距，图标使用线条简笔画风格
- 话题卡片：左侧红色标记改为小印章图标
- 整体增加纵向留白节奏

#### 4.5 提问页面（Ask）

**优化方向**：
- 输入区域：使用竖排装饰线（仿信笺纸）作为背景纹理
- 提交按钮：使用印章式按钮
- AI 回复区域：使用卷轴展开动画效果
- 回复内容卡片：用水墨渐变左侧边条做标识

### 5. 视觉语言 & 图标风格

#### 5.1 图标规范

| 风格 | 说明 |
|------|------|
| 线条宽度 | 1.5px 统一（纤细如毛笔细描） |
| 端点 | round（圆头，如毛笔收笔） |
| 拐角 | round（圆角，柔和） |
| 风格 | 中式简笔线条画 |
| 颜色 | 使用 `--ink-medium` 默认，`--seal-red` 强调 |

#### 5.2 装饰性元素

- **印章戳记**：用于重要标签、认证、徽章，方形或圆形红底白字
- **水墨晕染**：用于背景装饰、loading 状态、分隔区域
- **云纹/回纹**：极淡地用于卡片底纹（opacity 0.02-0.03）
- **山水剪影**：用于空状态页面、底部装饰

### 6. 无障碍设计

| 规则 | 标准 |
|------|------|
| 文字对比度 | WCAG AA（4.5:1 正文，3:1 大号文字） |
| 可点击区域 | 最小 88rpx x 88rpx（44px x 44px） |
| 颜色非唯一信息 | 分数/状态同时使用颜色+文字/图标 |
| 动画偏好 | 支持 `prefers-reduced-motion` 减少动效 |
| 字号可读性 | 正文不小于 26rpx |

## 不变更的部分

- 后端 API 和 Prompt 系统
- Canvas 星盘绘制逻辑（仅调色）
- 页面路由和功能逻辑
- 数据结构和状态管理

## 风险与缓解

| 风险 | 缓解措施 |
|------|----------|
| 水墨元素过多导致"老气" | 严格控制装饰密度，保持现代极简底色 |
| 宋体在小字号下可读性差 | 辅助文字使用系统无衬线字体 |
| 印章红与爱情主题色冲突 | 配对/爱情页面保留独立的 love-pink 体系 |
| Canvas 重绘性能 | 仅调整配色参数，不改绘制逻辑 |
| 微信小程序不支持自定义字体加载 | 仅使用系统预装字体 + 数字使用系统默认 |
